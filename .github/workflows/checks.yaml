name: Checks

on:
  push:
    branches: [main, master]
  pull_request:
    branches: [main, master]

jobs:
  build:
    uses: ./.github/workflows/build.yaml

  SonarQube:
    needs: build
    uses: ./.github/workflows/sonarqube.yaml

  deploy:
    if: github.event_name == 'push'
    name: Deploy2
    needs: [build,SonarQube]
    uses: ./.github/workflows/deploy.yaml
